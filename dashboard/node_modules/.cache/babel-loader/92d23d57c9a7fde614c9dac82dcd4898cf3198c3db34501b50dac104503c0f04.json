{"ast":null,"code":"var _jsxFileName = \"/Users/darkarmy/file_sync/dashboard/src/components/FileManager.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { FileText, Trash2, Download, RefreshCw, CheckCircle, AlertCircle, Server, Calendar, HardDrive, Edit3, Eye } from 'lucide-react';\nimport { fileApi } from '../utils/api';\nimport { formatFileSize, formatDate } from '../utils/api';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FileManager = ({\n  files,\n  nodes,\n  syncingFiles,\n  onFileDeleted\n}) => {\n  _s();\n  const [selectedFiles, setSelectedFiles] = useState(new Set());\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [sortBy, setSortBy] = useState('name');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [filterNode, setFilterNode] = useState('all');\n\n  // Filter and sort files\n  const filteredFiles = files.filter(file => {\n    if (filterNode === 'all') return true;\n    return file.owner_node === filterNode;\n  });\n  const sortedFiles = [...filteredFiles].sort((a, b) => {\n    let aVal, bVal;\n    switch (sortBy) {\n      case 'name':\n        aVal = a.name.toLowerCase();\n        bVal = b.name.toLowerCase();\n        break;\n      case 'size':\n        aVal = a.size || 0;\n        bVal = b.size || 0;\n        break;\n      case 'modified':\n        aVal = new Date(a.modified_at);\n        bVal = new Date(b.modified_at);\n        break;\n      case 'owner':\n        aVal = a.owner_node.toLowerCase();\n        bVal = b.owner_node.toLowerCase();\n        break;\n      default:\n        return 0;\n    }\n    if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\n    if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\n    return 0;\n  });\n  const handleFileSelect = fileId => {\n    const newSelected = new Set(selectedFiles);\n    if (newSelected.has(fileId)) {\n      newSelected.delete(fileId);\n    } else {\n      newSelected.add(fileId);\n    }\n    setSelectedFiles(newSelected);\n  };\n  const handleSelectAll = () => {\n    if (selectedFiles.size === sortedFiles.length) {\n      setSelectedFiles(new Set());\n    } else {\n      setSelectedFiles(new Set(sortedFiles.map(f => f.file_id)));\n    }\n  };\n  const handleDeleteSelected = async () => {\n    if (selectedFiles.size === 0) return;\n    const confirmed = window.confirm(`Are you sure you want to delete ${selectedFiles.size} selected file(s)? This action cannot be undone.`);\n    if (!confirmed) return;\n    setIsDeleting(true);\n    try {\n      let successCount = 0;\n      let errorCount = 0;\n      for (const fileId of selectedFiles) {\n        try {\n          const file = files.find(f => f.file_id === fileId);\n          if (file) {\n            await fileApi.delete(fileId, file.owner_node);\n            successCount++;\n          }\n        } catch (error) {\n          console.error(`Error deleting file ${fileId}:`, error);\n          errorCount++;\n        }\n      }\n      if (successCount > 0) {\n        toast.success(`Successfully deleted ${successCount} file(s)`);\n      }\n      if (errorCount > 0) {\n        toast.error(`Failed to delete ${errorCount} file(s)`);\n      }\n      setSelectedFiles(new Set());\n      if (onFileDeleted) {\n        onFileDeleted();\n      }\n    } catch (error) {\n      console.error('Error deleting files:', error);\n      toast.error('Failed to delete files');\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n  const handleSort = field => {\n    if (sortBy === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortBy(field);\n      setSortOrder('asc');\n    }\n  };\n  const getNodeName = nodeId => {\n    const node = nodes.find(n => n.node_id === nodeId);\n    return (node === null || node === void 0 ? void 0 : node.name) || nodeId;\n  };\n  const handleDownload = async file => {\n    try {\n      const response = await fileApi.download(file.file_id);\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = file.name;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      toast.success(`Downloaded ${file.name}`);\n    } catch (error) {\n      console.error('Download error:', error);\n      toast.error(`Failed to download ${file.name}`);\n    }\n  };\n  const SortButton = ({\n    field,\n    children\n  }) => /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: () => handleSort(field),\n    className: `flex items-center space-x-1 text-sm font-medium transition-colors ${sortBy === field ? 'text-blue-600' : 'text-gray-600 hover:text-gray-900'}`,\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), sortBy === field && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"text-xs\",\n      children: sortOrder === 'asc' ? '↑' : '↓'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 5\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            checked: selectedFiles.size === sortedFiles.length && sortedFiles.length > 0,\n            onChange: handleSelectAll,\n            className: \"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-gray-600\",\n            children: [\"Select All (\", selectedFiles.size, \" selected)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: filterNode,\n          onChange: e => setFilterNode(e.target.value),\n          className: \"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\",\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"All Nodes\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), nodes.map(node => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: node.node_id,\n            children: getNodeName(node.node_id)\n          }, node.node_id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 196,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center space-x-2\",\n        children: selectedFiles.size > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDeleteSelected,\n          disabled: isDeleting,\n          className: \"flex items-center space-x-1 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 transition-colors text-sm\",\n          children: [isDeleting ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n            className: \"w-4 h-4 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this) : /*#__PURE__*/_jsxDEV(Trash2, {\n            className: \"w-4 h-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"Delete (\", selectedFiles.size, \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 213,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gray-50 rounded-lg p-3 border border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-12 gap-4 items-center text-sm font-medium text-gray-700\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-1\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-4\",\n          children: /*#__PURE__*/_jsxDEV(SortButton, {\n            field: \"name\",\n            children: \"Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 233,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(SortButton, {\n            field: \"size\",\n            children: \"Size\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(SortButton, {\n            field: \"owner\",\n            children: \"Owner\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2\",\n          children: /*#__PURE__*/_jsxDEV(SortButton, {\n            field: \"modified\",\n            children: \"Modified\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 242,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-1\",\n          children: \"Status\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"space-y-2\",\n      children: /*#__PURE__*/_jsxDEV(AnimatePresence, {\n        children: sortedFiles.map(file => /*#__PURE__*/_jsxDEV(motion.div, {\n          initial: {\n            opacity: 0,\n            y: 10\n          },\n          animate: {\n            opacity: 1,\n            y: 0\n          },\n          exit: {\n            opacity: 0,\n            y: -10\n          },\n          className: `p-3 border rounded-lg transition-all ${selectedFiles.has(file.file_id) ? 'border-blue-300 bg-blue-50' : syncingFiles.includes(file.file_id) ? 'border-blue-200 bg-blue-25' : 'border-gray-200 bg-white hover:border-gray-300'}`,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-12 gap-4 items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-1\",\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"checkbox\",\n                checked: selectedFiles.has(file.file_id),\n                onChange: () => handleFileSelect(file.file_id),\n                className: \"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(FileText, {\n                  className: `w-5 h-5 flex-shrink-0 ${syncingFiles.includes(file.file_id) ? 'text-blue-500' : 'text-gray-500'}`\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"min-w-0 flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                    className: \"font-medium text-gray-900 truncate\",\n                    children: file.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 284,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-gray-500 truncate\",\n                    children: [\"v\", file.version, \" \\u2022 \", file.path]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 287,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 283,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-600\",\n                children: formatFileSize(file.size)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 295,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-2\",\n                children: [/*#__PURE__*/_jsxDEV(Server, {\n                  className: \"w-4 h-4 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 304,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600 truncate\",\n                  children: getNodeName(file.owner_node)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 305,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 303,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-2\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-1\",\n                children: [/*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-4 h-4 text-gray-400\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 314,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-sm text-gray-600\",\n                  children: formatDate(file.modified_at)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 313,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-1\",\n              children: syncingFiles.includes(file.file_id) ? /*#__PURE__*/_jsxDEV(motion.div, {\n                animate: {\n                  rotate: 360\n                },\n                transition: {\n                  duration: 1,\n                  repeat: Infinity,\n                  ease: \"linear\"\n                },\n                className: \"flex items-center justify-center\",\n                children: /*#__PURE__*/_jsxDEV(RefreshCw, {\n                  className: \"w-4 h-4 text-blue-500\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 329,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 324,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(CheckCircle, {\n                className: \"w-4 h-4 text-green-500\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"col-span-1 flex items-center justify-end space-x-2\",\n              children: syncingFiles.includes(file.file_id) ? /*#__PURE__*/_jsxDEV(RefreshCw, {\n                className: \"w-4 h-4 text-blue-500 animate-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 339,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDownload(file),\n                  className: \"p-1 text-gray-500 hover:text-blue-600 transition-colors\",\n                  title: \"Download\",\n                  children: /*#__PURE__*/_jsxDEV(Download, {\n                    className: \"w-4 h-4\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 347,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 342,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 337,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 15\n          }, this)\n        }, file.file_id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"border-t border-gray-200 pt-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between text-sm text-gray-600\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Showing \", sortedFiles.length, \" of \", files.length, \" files\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Total size: \", formatFileSize(sortedFiles.reduce((sum, file) => sum + (file.size || 0), 0))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 360,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(FileManager, \"W3TnIea3L/M1qm3t45e2n5OkrKc=\");\n_c = FileManager;\nexport default FileManager;\nvar _c;\n$RefreshReg$(_c, \"FileManager\");","map":{"version":3,"names":["React","useState","motion","AnimatePresence","FileText","Trash2","Download","RefreshCw","CheckCircle","AlertCircle","Server","Calendar","HardDrive","Edit3","Eye","fileApi","formatFileSize","formatDate","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","FileManager","files","nodes","syncingFiles","onFileDeleted","_s","selectedFiles","setSelectedFiles","Set","isDeleting","setIsDeleting","sortBy","setSortBy","sortOrder","setSortOrder","filterNode","setFilterNode","filteredFiles","filter","file","owner_node","sortedFiles","sort","a","b","aVal","bVal","name","toLowerCase","size","Date","modified_at","handleFileSelect","fileId","newSelected","has","delete","add","handleSelectAll","length","map","f","file_id","handleDeleteSelected","confirmed","window","confirm","successCount","errorCount","find","error","console","success","handleSort","field","getNodeName","nodeId","node","n","node_id","handleDownload","response","download","blob","url","URL","createObjectURL","document","createElement","href","body","appendChild","click","revokeObjectURL","removeChild","SortButton","children","onClick","className","fileName","_jsxFileName","lineNumber","columnNumber","type","checked","onChange","value","e","target","disabled","div","initial","opacity","y","animate","exit","includes","version","path","rotate","transition","duration","repeat","Infinity","ease","title","reduce","sum","_c","$RefreshReg$"],"sources":["/Users/darkarmy/file_sync/dashboard/src/components/FileManager.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { motion, AnimatePresence } from 'framer-motion';\nimport { \n  FileText, \n  Trash2, \n  Download,\n  RefreshCw,\n  CheckCircle,\n  AlertCircle,\n  Server,\n  Calendar,\n  HardDrive,\n  Edit3,\n  Eye\n} from 'lucide-react';\nimport { fileApi } from '../utils/api';\nimport { formatFileSize, formatDate } from '../utils/api';\nimport { toast } from 'react-toastify';\n\nconst FileManager = ({ files, nodes, syncingFiles, onFileDeleted }) => {\n  const [selectedFiles, setSelectedFiles] = useState(new Set());\n  const [isDeleting, setIsDeleting] = useState(false);\n  const [sortBy, setSortBy] = useState('name');\n  const [sortOrder, setSortOrder] = useState('asc');\n  const [filterNode, setFilterNode] = useState('all');\n\n  // Filter and sort files\n  const filteredFiles = files.filter(file => {\n    if (filterNode === 'all') return true;\n    return file.owner_node === filterNode;\n  });\n\n  const sortedFiles = [...filteredFiles].sort((a, b) => {\n    let aVal, bVal;\n    \n    switch (sortBy) {\n      case 'name':\n        aVal = a.name.toLowerCase();\n        bVal = b.name.toLowerCase();\n        break;\n      case 'size':\n        aVal = a.size || 0;\n        bVal = b.size || 0;\n        break;\n      case 'modified':\n        aVal = new Date(a.modified_at);\n        bVal = new Date(b.modified_at);\n        break;\n      case 'owner':\n        aVal = a.owner_node.toLowerCase();\n        bVal = b.owner_node.toLowerCase();\n        break;\n      default:\n        return 0;\n    }\n    \n    if (aVal < bVal) return sortOrder === 'asc' ? -1 : 1;\n    if (aVal > bVal) return sortOrder === 'asc' ? 1 : -1;\n    return 0;\n  });\n\n  const handleFileSelect = (fileId) => {\n    const newSelected = new Set(selectedFiles);\n    if (newSelected.has(fileId)) {\n      newSelected.delete(fileId);\n    } else {\n      newSelected.add(fileId);\n    }\n    setSelectedFiles(newSelected);\n  };\n\n  const handleSelectAll = () => {\n    if (selectedFiles.size === sortedFiles.length) {\n      setSelectedFiles(new Set());\n    } else {\n      setSelectedFiles(new Set(sortedFiles.map(f => f.file_id)));\n    }\n  };\n\n  const handleDeleteSelected = async () => {\n    if (selectedFiles.size === 0) return;\n\n    const confirmed = window.confirm(\n      `Are you sure you want to delete ${selectedFiles.size} selected file(s)? This action cannot be undone.`\n    );\n\n    if (!confirmed) return;\n\n    setIsDeleting(true);\n    try {\n      let successCount = 0;\n      let errorCount = 0;\n\n      for (const fileId of selectedFiles) {\n        try {\n          const file = files.find(f => f.file_id === fileId);\n          if (file) {\n            await fileApi.delete(fileId, file.owner_node);\n            successCount++;\n          }\n        } catch (error) {\n          console.error(`Error deleting file ${fileId}:`, error);\n          errorCount++;\n        }\n      }\n\n      if (successCount > 0) {\n        toast.success(`Successfully deleted ${successCount} file(s)`);\n      }\n      if (errorCount > 0) {\n        toast.error(`Failed to delete ${errorCount} file(s)`);\n      }\n\n      setSelectedFiles(new Set());\n      if (onFileDeleted) {\n        onFileDeleted();\n      }\n    } catch (error) {\n      console.error('Error deleting files:', error);\n      toast.error('Failed to delete files');\n    } finally {\n      setIsDeleting(false);\n    }\n  };\n\n  const handleSort = (field) => {\n    if (sortBy === field) {\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\n    } else {\n      setSortBy(field);\n      setSortOrder('asc');\n    }\n  };\n\n  const getNodeName = (nodeId) => {\n    const node = nodes.find(n => n.node_id === nodeId);\n    return node?.name || nodeId;\n  };\n\n  const handleDownload = async (file) => {\n    try {\n      const response = await fileApi.download(file.file_id);\n      const blob = await response.blob();\n      const url = window.URL.createObjectURL(blob);\n      const a = document.createElement('a');\n      a.href = url;\n      a.download = file.name;\n      document.body.appendChild(a);\n      a.click();\n      window.URL.revokeObjectURL(url);\n      document.body.removeChild(a);\n      toast.success(`Downloaded ${file.name}`);\n    } catch (error) {\n      console.error('Download error:', error);\n      toast.error(`Failed to download ${file.name}`);\n    }\n  };\n\n  const SortButton = ({ field, children }) => (\n    <button\n      onClick={() => handleSort(field)}\n      className={`flex items-center space-x-1 text-sm font-medium transition-colors ${\n        sortBy === field \n          ? 'text-blue-600' \n          : 'text-gray-600 hover:text-gray-900'\n      }`}\n    >\n      <span>{children}</span>\n      {sortBy === field && (\n        <span className=\"text-xs\">\n          {sortOrder === 'asc' ? '↑' : '↓'}\n        </span>\n      )}\n    </button>\n  );\n\n  return (\n    <div className=\"space-y-4\">\n      {/* Controls */}\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center space-x-4\">\n          {/* Select All */}\n          <div className=\"flex items-center space-x-2\">\n            <input\n              type=\"checkbox\"\n              checked={selectedFiles.size === sortedFiles.length && sortedFiles.length > 0}\n              onChange={handleSelectAll}\n              className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n            />\n            <span className=\"text-sm text-gray-600\">\n              Select All ({selectedFiles.size} selected)\n            </span>\n          </div>\n\n          {/* Filter by Node */}\n          <select\n            value={filterNode}\n            onChange={(e) => setFilterNode(e.target.value)}\n            className=\"text-sm border border-gray-300 rounded-md px-3 py-1 focus:ring-2 focus:ring-blue-500 focus:border-blue-500\"\n          >\n            <option value=\"all\">All Nodes</option>\n            {nodes.map(node => (\n              <option key={node.node_id} value={node.node_id}>\n                {getNodeName(node.node_id)}\n              </option>\n            ))}\n          </select>\n        </div>\n\n        {/* Actions */}\n        <div className=\"flex items-center space-x-2\">\n          {selectedFiles.size > 0 && (\n            <button\n              onClick={handleDeleteSelected}\n              disabled={isDeleting}\n              className=\"flex items-center space-x-1 px-3 py-1 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 transition-colors text-sm\"\n            >\n              {isDeleting ? (\n                <RefreshCw className=\"w-4 h-4 animate-spin\" />\n              ) : (\n                <Trash2 className=\"w-4 h-4\" />\n              )}\n              <span>Delete ({selectedFiles.size})</span>\n            </button>\n          )}\n        </div>\n      </div>\n\n      {/* Table Header */}\n      <div className=\"bg-gray-50 rounded-lg p-3 border border-gray-200\">\n        <div className=\"grid grid-cols-12 gap-4 items-center text-sm font-medium text-gray-700\">\n          <div className=\"col-span-1\"></div>\n          <div className=\"col-span-4\">\n            <SortButton field=\"name\">Name</SortButton>\n          </div>\n          <div className=\"col-span-2\">\n            <SortButton field=\"size\">Size</SortButton>\n          </div>\n          <div className=\"col-span-2\">\n            <SortButton field=\"owner\">Owner</SortButton>\n          </div>\n          <div className=\"col-span-2\">\n            <SortButton field=\"modified\">Modified</SortButton>\n          </div>\n          <div className=\"col-span-1\">Status</div>\n        </div>\n      </div>\n\n      {/* File List */}\n      <div className=\"space-y-2\">\n        <AnimatePresence>\n          {sortedFiles.map((file) => (\n            <motion.div\n              key={file.file_id}\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              exit={{ opacity: 0, y: -10 }}\n              className={`p-3 border rounded-lg transition-all ${\n                selectedFiles.has(file.file_id)\n                  ? 'border-blue-300 bg-blue-50'\n                  : syncingFiles.includes(file.file_id)\n                  ? 'border-blue-200 bg-blue-25'\n                  : 'border-gray-200 bg-white hover:border-gray-300'\n              }`}\n            >\n              <div className=\"grid grid-cols-12 gap-4 items-center\">\n                {/* Checkbox */}\n                <div className=\"col-span-1\">\n                  <input\n                    type=\"checkbox\"\n                    checked={selectedFiles.has(file.file_id)}\n                    onChange={() => handleFileSelect(file.file_id)}\n                    className=\"rounded border-gray-300 text-blue-600 focus:ring-blue-500\"\n                  />\n                </div>\n\n                {/* File Info */}\n                <div className=\"col-span-4\">\n                  <div className=\"flex items-center space-x-3\">\n                    <FileText className={`w-5 h-5 flex-shrink-0 ${\n                      syncingFiles.includes(file.file_id) ? 'text-blue-500' : 'text-gray-500'\n                    }`} />\n                    <div className=\"min-w-0 flex-1\">\n                      <h4 className=\"font-medium text-gray-900 truncate\">\n                        {file.name}\n                      </h4>\n                      <p className=\"text-xs text-gray-500 truncate\">\n                        v{file.version} • {file.path}\n                      </p>\n                    </div>\n                  </div>\n                </div>\n\n                {/* Size */}\n                <div className=\"col-span-2\">\n                  <span className=\"text-sm text-gray-600\">\n                    {formatFileSize(file.size)}\n                  </span>\n                </div>\n\n                {/* Owner */}\n                <div className=\"col-span-2\">\n                  <div className=\"flex items-center space-x-2\">\n                    <Server className=\"w-4 h-4 text-gray-400\" />\n                    <span className=\"text-sm text-gray-600 truncate\">\n                      {getNodeName(file.owner_node)}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Modified */}\n                <div className=\"col-span-2\">\n                  <div className=\"flex items-center space-x-1\">\n                    <Calendar className=\"w-4 h-4 text-gray-400\" />\n                    <span className=\"text-sm text-gray-600\">\n                      {formatDate(file.modified_at)}\n                    </span>\n                  </div>\n                </div>\n\n                {/* Status */}\n                <div className=\"col-span-1\">\n                  {syncingFiles.includes(file.file_id) ? (\n                    <motion.div\n                      animate={{ rotate: 360 }}\n                      transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n                      className=\"flex items-center justify-center\"\n                    >\n                      <RefreshCw className=\"w-4 h-4 text-blue-500\" />\n                    </motion.div>\n                  ) : (\n                    <CheckCircle className=\"w-4 h-4 text-green-500\" />\n                  )}\n                </div>\n\n                {/* Actions */}\n                <div className=\"col-span-1 flex items-center justify-end space-x-2\">\n                  {syncingFiles.includes(file.file_id) ? (\n                    <RefreshCw className=\"w-4 h-4 text-blue-500 animate-spin\" />\n                  ) : (\n                    <>\n                      <button\n                        onClick={() => handleDownload(file)}\n                        className=\"p-1 text-gray-500 hover:text-blue-600 transition-colors\"\n                        title=\"Download\"\n                      >\n                        <Download className=\"w-4 h-4\" />\n                      </button>\n                    </>\n                  )}\n                </div>\n              </div>\n            </motion.div>\n          ))}\n        </AnimatePresence>\n      </div>\n\n      {/* Summary */}\n      <div className=\"border-t border-gray-200 pt-4\">\n        <div className=\"flex items-center justify-between text-sm text-gray-600\">\n          <span>\n            Showing {sortedFiles.length} of {files.length} files\n          </span>\n          <span>\n            Total size: {formatFileSize(sortedFiles.reduce((sum, file) => sum + (file.size || 0), 0))}\n          </span>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default FileManager; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}